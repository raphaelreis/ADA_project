---
layout: post
title: Nutrition Data story
---
## Introduction
As we saw previously, the food represents a major part of our dataset: an in-depth analysis of this section seemed thus natural to us. Unfortunately, no nutrition values were available in the dataset. We faced this challenge by using another dataset of the U.S. Department of Agriculture (USDA) which gave us access to a great variety of food products and their nutritional values. The challenge we faced consisted mainly in the difference between the articlenames of the two dataset: for instance, classical onions are called ONIONS SWEET (BULK&BAG) in the dunnhumby dataset, whereas  "Onion, mature raw" in the USDA dataset.

We therefore developped a parser which analyzes the name of the articles present in the dunnhumby dataset and associate them with the most similar USDA articles.

TOOL PARSER

In addition to that, a second parser was developped in order to extract the weight from the very heterogeneous string data.

WEIGHT PARSER

Together, these two tools allowed us to perform the following analysis.

## An incredible soup
The question is: can we trust our data at this point? Indeed, the parser does not always perform 100% accurately, and some incoherences of the dataset are present: as we can here see, most of the bananas items were sold by amount of 40 LB (~ 18kg). A possible hypothesis would be that the Dunnhumby supermarkets do some reselling to smaller markets.
Nevertheless, we persisted, and analyzed the average nutrition profile of what was sold by computing the mean of the nutriment weighted by the bought mass across all articles.

![image](/assets/img/soup.png)

As we can see, the data looks coherent: we don't fall far from the optimal food intakes as adviced by the National Health Service of UK.
## A mass of food
First things first, we take a look at the nutritional values of the most consumed articles in terms of mass:

{% include test.html %}

We notice a few things: the eggs are significantly richer than the other articles in terms of cholesterol (...complete...).

The idea consists now to identify which articles are the most responsible for the mass consumption of the nutrients: i.e. to find the items which bring the biggest mass of a given nutrient in people's plates.

BARPLOT OF MASS RESPONSABILITY


## What people eat
Taking advantage of the rest of the datas, we analyzed the nutritional values by separating classes of customers according to various features: it turns out that the fat consumption seems to decrease with the income.

FAT GRAPHS

A possible explanation could reside in the price of fatty articles: are fatty articles less expensive in general?

PRICE OF FAT
MONEY SPENT PER KCAL

(....complete....)

## Average nutriment consumption
A mandatory step consist in defining which type of nutriments are consumed together, this was achieved by computing the correlation matrix of the average nutrients consumption per household between all nutrients.

CORRELATIONS MATRICES

## Households Detection
Extracting these data is one thing, using them for good is another one: this is why we developped a final tool detecting the outliers for each type of nutrients using the interquantile-range method. This would allow supermarket to detect potential alimentation issues early enough in the life of their customers, and use this type of data to improve and sensitize people to eat better instead of trying to make more money out of them.

IDEA 1 LIST OF OUTLIERS
IDEA 2 KCAL VS FATS; COLORS FOR OUTLIERS


